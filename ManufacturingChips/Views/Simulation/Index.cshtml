@model ManufacturingChips.Models.SimulationView
@{
ViewData["Title"] = "Симуляція виробництва";
}

<h1>Налаштування та запуск симуляції</h1>

<form id="simForm" class="row g-3">
    <div class="col-md-2">
        <label asp-for="LinesCount">Ліній</label>
        <input asp-for="LinesCount" class="form-control" type="number" min="1" max="5"/>
    </div>
    <div class="col-md-2">
        <label asp-for="MachinesPerLine">Машини/лінію</label>
        <input asp-for="MachinesPerLine" class="form-control" type="number" min="1" max="5" />
    </div>
    <div class="col-md-3">
        <label asp-for="ShiftDurationSeconds">Тривалість зміни (сек)</label>
        <input asp-for="ShiftDurationSeconds" class="form-control" type="number" min="1" />
    </div>
    <div class="col-auto align-self-end">
        <button id="applyBtn" type="button" class="btn btn-secondary">Застосувати</button>
        <button id="startBtn" type="button" class="btn btn-success">Почати</button>
    </div>
</form>

<div class="mt-3">
    <h4>Час до закінчення зміни: <span id="timeDisplay">--:--</span></h4>
</div>

<form id="stopForm" class="mt-2" onsubmit="return false;">
    <button id="stopBtn" type="button" class="btn btn-danger" disabled>Зупинити</button>
</form>

<hr />

<div class="row">
    <div class="col-md-6">
        <h2>Анімація</h2>
        @{ await Html.RenderPartialAsync("_SimulationAnimation", Model); }

        <h2 class="mt-4">Лог подій</h2>
        <ul id="logList" class="list-unstyled" style="max-height:300px; overflow:auto"></ul>
    </div>

    <div class="col-md-6">
        <h2>Статистика</h2>
        <div id="statsContainer">
            <p>Поки статистики немає.</p>
        </div>
    </div>
</div>

@section Scripts {
<script src="~/js/simulation.js"></script>
}
